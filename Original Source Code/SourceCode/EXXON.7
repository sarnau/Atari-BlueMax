000085  .LI OFF
000100 COLM20 LDA $D00A
000105  AND #1
000110  CMP #1
000115  BEQ RS
000120 RU RTS
000125 RS LDA $F6
000130  SBC $F5
000135  SBC $6CD
000140  STA $658
000145  LDA $C2
000150  SBC $C1
000155  SBC $658
000160  CMP $6CE
000165  BCS RU
000170 DAMAGE JSR RO
000171 SV LDA $6F7
000172  BNE RU
000174  LDA #35
000175  STA $6F7
000176  LDX #$48
000177  STA $CA
000178  LDA #15
000180  JSR XXX
000185  LDX $659
000190  BNE RV
000200  STX $63F
000201  INX
000202  STX $643
000203  INX
000204  STX 704
000205  RTS
000210 RV DEC $659
000215 RZ LDA 53770
000220  AND #3
000225  BEQ RW
000230  CMP #1
000235  BEQ RX
000240  CMP #2
000245  BEQ RY
000250  LDA SC+$658
000255  BNE RZ
000260  LDA #$A7
000265  STA SC+$658
000270  RTS
000275 RW LDA SC+$655
000280  BNE RZ
000285  LDA #$A6
000290  STA SC+$655
000295  RTS
000300 RX LDA SC+$656
000305  BNE RZ
000310  LDA #$A2
000315  STA SC+$656
000320  RTS
000325 RY LDA SC+$657
000330  BNE RZ
000335  LDA #$AD
000340  STA SC+$657
000345  RTS
001000 TRIGB LDY $656
001005  BNE RR
001006  LDA $C2
001007  SBC $F6
001008  BMI RM
001009  LDA $C0
001010  CMP #170
001011  BCS RM
001012  LDA 53770
001015  CMP $6CA
001020  BCS RM
001021  LDA $640
001022  CMP #5
001023  BNE RM
001025  LDA $C0
001030  CLC
001035  ADC #6
001040  STA $657
001045  STA $D006
001050  LDY $C1
001055  INY
001060  INY
001065 RN STY $656
001070  LDA #$30
001071  STA MISL,Y
001075  STA $648
001080 RM RTS
001085 RR CPY #30
001090  BCC RO
001095  LDA $657
001100  CMP #205
001105  BCS RO
001110  CLC
001115  ADC #3
001120  STA $657
001125  STA $D006
001130  LDA #0
001131  STA MISL,Y
001135  DEY
001140  DEY
001145  DEY
001155 RP STY $656
001160  LDA #$30
001165  STA MISL,Y
001166  JSR COLM20
001170  RTS
001175 RO LDA #0
001180  STA $656
001185  STA MISL,Y
001190  LDX #255
001195  STX $648
001200 SG RTS
001205 TRIGF LDY $656
001210  BNE SF
001215  LDA $C2
001220  CMP $F6
001225  BCS SG
001235  LDA 53770
001240  CMP $6CA
001245  BCS SG
001250  LDA $C0
001255  SBC #2
001260  STA $657
001265  STA $D006
001270  LDA $C1
001275  ADC #11
001280  TAY
001285  JMP RN
001290 SF CPY #185
001295  BCS RO
001300  LDA $657
001305  CMP #55
001310  BCC RO
001315  CLC
001320  SBC #2
001325  STA $657
001330  STA $D006
001335  LDA #0
001340  STA MISL,Y
001345  INY
001350  INY
001355  INY
001360  INY
001365  JMP RP
001500 BRGPOS LDA $661
001505  BNE SZ
001510  RTS
001515 SO LDA #0
001520  STA $661
001525  RTS
001530 SZ LDA $664
001535  BEQ SJ
001540  DEC $664
001545  RTS
001565 SJ INC $65D
001570  LDY $65D
001575  CPY #210
001580  BEQ SO
001585  DEC $65E
001590  LDA $65E
001595  LSR
001600  BCS SP
001605  DEC $65C
001610 SP RTS
001611 FBRGN LDA $BF
001612  BNE SP
001615  LDY $65F
001620  BNE SM
001625  JSR CKFGN
001670  LDX $65C
001671  CPX #185
001672  BCS TA
001675  CPX #161
001680  BCS SY
001685  CPX #65
001690  BCC SP
001691 ZW JMP G3
001696 ZZ LDA #0
001697 A1 STA $696
001698 SX STX $D007
001700  STX $663
001705  STY $65F
001710  LDA #$80
001715  STA MISL,Y
001720  STA MISL-1,Y
001725  LDA 53770
001730  AND #15
001735  ADC #15
001740  STA $660
001745  LDA #12
001746  STA $6AF
001750  RTS
001755 SY LDA 53770
001760  LSR
001765  BCC ZW
001770 TA TXA
001771  SEC
001772  SBC #96
001773  STA $65C
001774  JMP G3
001791 SM LDA $696
001792  BEQ ZV
001793  CMP #1
001794  BNE ZX
001795  DEC $663
001796 ZV DEC $663
001797 G5 LDA $663
001798  STA $D007
001799  JMP SW
001800 ZX CMP #2
001801  BEQ SW
001802  CMP #4
001803  BNE G4
001804  INC $663
001805  JMP G5
001806 G4 LDA $65E
001807  LSR
001808  BCC ZV
001825 SW LDA $660
001830  BEQ SN
001835  DEC $660
001840  BNE SQ
001851  LDA $644
001852  BNE WD
001855  LDA #2
001860  LDX #$47
001865  JSR XXX
001870 WD LDA #25
001875  STA $662
001880  LDA #$80
001885 D3 STA MISL-2,Y
001886  STA MISL-4,Y
001890  LSR
001895  STA MISL-1,Y
001900  STA MISL-3,Y
001905  RTS
001910 SQ LDA #0
001915  STA MISL,Y
001920  DEY
001925  STA MISL,Y
001930  DEY
001935  STY $65F
001940  LDA #$80
001945  STA MISL,Y
001950  STA MISL-1,Y
001955  JSR COLM30
001960  RTS
001965 SR LDA #0
001970  STA MISL,Y
001975  STA MISL-1,Y
001980  STA $65F
001985  STA MISL-2,Y
001990  STA MISL-3,Y
001992  STA MISL-4,Y
001993  LDA #$3C
001994  AND $6A9
001995  STA $6A9
001996  STA $D00C
001997  RTS
002000 SN DEC $662
002005  BEQ SR
002010  LDA $65E
002015  LSR
002016  LSR
002017  LSR
002020  BCC SS
002035  JSR COLM30
002040  RTS
002045 SS LDA #$C0
002046  ORA $6A9
002047  STA $6A9
002050  STA $D00C
002055  RTS
002060 COLM30 LDA $D00B
002065  AND #1
002075  BNE ST
002076  LDA #$3F
002077  AND $6A9
002078  STA $6A9
002079  STA $D00C
002080 SU RTS
002085 ST LDA $F6
002090  ADC $6CB
002095  SBC $65D
002100  CMP $6CC
002105  BCS SU
002110  JSR SR
002115  JSR SV
002120  RTS
003000 TY LDA #36
003005  STA $66C
003006  LDA $676
003007  CMP #2
003008  BNE WI
003010  LDA #255
003015  STA $B6
003020 WI LDA 53770
003025  AND #127
003030  ORA #64
003035  STA $66B
003040  RTS
003045 ENRUN LDA $66B
003050  BEQ TX
003055  DEC $66B
003060 XE RTS
003061 TX LDA $66C
003062  CMP #36
003063  BNE WX
003064  LDA $B7
003065  CMP #2
003066  BCS XE
003067 WX DEC $66C
003070  BEQ TY
003075  LDA $66C
003080  CMP #35
003085  BNE TZ
003086  STA $6F9
003090 UD LDY #0
003095  STY $B6
003096  LDA #2
003097  STA $676
003100  JMP DFHNGR
003105 TZ LDA $676
003106  CMP #2
003107  BNE WH
003110  STA $B6
003115 WH LDA $66A
003120  SEC
003125  SBC #7
003130  TAY
003135  LDX #11
003140 UA DEY
003145  LDA ENRNIM-1,X
003150  STA ($F2),Y
003155  DEX
003160  BNE UA
003165  INY
003170  LDA $66D
003175  BEQ UB
003180  LDA #209
003185  STA ($F2),Y
003190  INY
003195  LDA #208
003200  STA ($F2),Y
003205  LDA #0
003210  STA $66D
003215  JMP UC
003220 UB LDA $66C
003225  CMP #4
003230  BCC UC
003231  CMP #33
003232  BCS UC
003235  LDA 53770
003240  AND #7
003245  BNE UC
003250  INY
003255  LDA #211
003260  STA ($F2),Y
003265  INY
003270  LDA #210
003275  STA ($F2),Y
003280  STA $66D
003285 UC LDA $66A
003290  SEC
003295  SBC #19
003300  TAY
003305  LDA $66C
003310  CMP #20
003315  BEQ UD
003320  CMP #19
003325  BEQ UE
003330  CMP #18
003335  BEQ UF
003340  CMP #17
003345  BEQ UG
003350  CMP #16
003355  BEQ UG
003360  CMP #15
003365  BEQ UH
003370  CMP #14
003375  BEQ UI
003376  CMP #34
003377  BEQ H0
003378  CMP #9
003379  BEQ H0
003380  RTS
003385 UE LDX #5
003390 UJ LDA HNGR1-1,X
003395  STA ($F2),Y
003400  DEY
003405  DEX
003410  BNE UJ
003415  RTS
003420 UF LDX #6
003425 UK LDA HNGR2-1,X
003430  STA ($F2),Y
003435  DEY
003440  DEX
003445  BNE UK
003450  RTS
003455 UG LDX #6
003460 UM LDA HNGR3-1,X
003465  STA ($F2),Y
003470  DEY
003475  DEX
003480  BNE UM
003485  RTS
003490 UH LDX #5
003495  DEY
003500  JMP UM
003505 UI LDX #4
003510  DEY
003515  DEY
003520 UN LDA HNGR5-1,X
003525  STA ($F2),Y
003530  DEY
003535  DEX
003540  BNE UN
003549 R0 RTS
003550 H0 LDA $66A
003555  SEC
003560  SBC #7
003565  TAY
003570  LDA 53770
003575  LSR
003580  BCC H1
003585  LDA #49
003590  JMP H2
003595 H1 LDA #177
003600 H2 STA ($F2),Y
003605  LDA #0
003610  STA $6A3
003615  LDA $FD
003620  BNE H4
003625  LDA $66A
003630  JMP H3
003635 H4 JMP B5
004000 AREA LDY $FF
004005  CPY #2
004010  BCC TC
004015  CPY #87
004020  BCC TD
004025 TC LDA $F0
004030  BNE TU
004031  JSR B7
004032  LDA $B7
004033  CMP #5
004034  BCC WW
004035  CMP #8
004036  BCC TU
004037 WW JSR DROAD
004040  JSR TNKC
004041  JSR TNKC1
004042  JSR GUNC
004045 TU RTS
004095 TD CPY #40
004100  BCC TE
004105  LDA #$80
004110  STA $610
004115  JMP TF
004120 TE LDA #255
004125  STA $610
004130 TF JMP DRAW
004135 CLEAR LDA $F0
004140  BNE TN
004141  LDY #64
004142  LDA $B7
004143  CMP #5
004144  BCC XD
004145  CMP #8
004146  BCS XD
004147  LDA #$FE
004148  JMP TG
004149 XD LDA #0
004155 TG STA ($F2),Y
004160  DEY
004165  BNE TG
004170  RTS
004175 DROAD LDA $668
004180  BEQ TM
004185  DEC $668
004190 TN RTS
004195 TM LDY $669
004200  CPY $66A
004205  BEQ TO
004206  LDA #42
004207  STA 709
004208  STA $6BB
004210  LDX #7
004215 TR CPY #65
004220  BCS TP
004225  CPY #0
004230  BEQ TQ
004235  LDA ROADR-1,X
004240  STA ($F2),Y
004245 TP DEY
004250  DEX
004255  BNE TR
004260 TQ INC $669
004265  RTS
004270 TO DEY
004275  LDX #5
004280 TS DEY
004285  LDA ROADS-1,X
004290  STA ($F2),Y
004295  DEX
004300  BNE TS
004302  JSR DRCAR
004303  JSR BLDG
004304  JSR ENRUN
004305  RTS
004310 TNKC LDA $650
004315  BEQ TV
004320  DEC $650
004325  RTS
004330 TV LDA $651
004335  BNE TW
004336  LDA $B7
004337  CMP #3
004338  BCS TN
004340  JMP QS
004345 TW LDY $66A
004350  JMP TT
010000 CITY JSR CLEAR
010005  JSR AREA
010010  JSR PLFWD
010015  JSR PLBCK
010016  JSR BLDGC
010017  JSR BLDGL
010018  JSR PRIOR
010019  JSR CTYGN
010020  LDA $638
010021  BNE .7
010022  JSR DRUN
010023 .7 JSR COMMON
010105  JSR CKCOL
010115  JSR CPTL
010120  JSR SPD
010121  JSR CDRP
010135  JSR TIMER
010140  STA $4D
010145  JMP CITY
