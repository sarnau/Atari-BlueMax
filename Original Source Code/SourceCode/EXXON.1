000010  .LI OFF
000100 TIMER LDA #3
000101  STA $D01E
000105  LDX #0
000110  LDY #1
000115  JSR $E45C
000120  LDA #192
000125  STA $D40E
000130 L LDA 540
000135  BNE L
000140  RTS
000145 VBIR DEC $604
000150  LDA $604
000155  LSR
000160  BCC SCROL
000165  JMP XSND
000170 SCROL LDA $62A
000175  BEQ JR
000180  DEC $62A
000185 JR LDA $F1
000190  BEQ J
000195  SEC
000200  SBC #1
000205  STA $F1
000210  STA $D404
000215  ASL
000220  STA $D405
000225  JMP XSND
000230 J LDA $FE
000235  BEQ GN
000240  DEC $FE
000245  BNE GN
000250  LDA #8
000255  STA $F8
000260  LDA 53770
000265  AND #3
000270  STA $61B
000275 GN LDA #0
000280  STA $F0
000285  LDA #3
000290  STA $F1
000295  STA $D404
000300  ASL
000305  STA $D405
000310  LDA BOTM
000315  SEC
000320  SBC #23
000325  STA BUF
000330  LDA BOTM+1
000335  SBC #0
000340  STA BUF+1
000345  LDA BOTSCREN
000350  STA BOTM
000355  SEC
000360  SBC #20
000365  STA $F2
000370  PHP
000375  LDA BOTSCREN+1
000380  STA BOTM+1
000385  PLP
000390  SBC #0
000395  STA $F3
000400  LDY #66
000405 K LDA DL,Y
000410  CLC
000415  ADC #1
000420  STA DL+3,Y
000425  LDA DL+1,Y
000430  ADC #0
000435  STA DL+4,Y
000440  DEY
000445  DEY
000450  DEY
000455  BNE K
000460  LDA TOP
000465  CLC
000470  ADC #1
000475  STA DL+3
000480  LDA TOP+1
000485  ADC #0
000490  STA DL+4
000495  LDA BUF
000500  STA TOP
000505  LDA BUF+1
000510  STA TOP+1
000515 EE JMP XSND
000520 DRAW LDA $F0
000525  BEQ M
000530  RTS
000535 M LDY #64
000540  LDA #0
000545 N STA ($F2),Y
000550  DEY
000555  BNE N
000560 AY LDA $600
000565  CMP #1
000570  BEQ STRGHT
000575  CMP #3
000580  BEQ AR
000585 AQ JMP LFT
000590 AR JMP RGHT
000595 RND LDA 53770
000600  AND #3
000605  ORA #2
000610  STA $601
000615  LDA #1
000620  STA $600
000625  JMP STRGHT
000630 AX LDA 53770
000635  LSR
000640  BCS RND
000645 AW LDA 53770
000650  AND #15
000655  ORA #3
000660  STA $601
000665  LDA #255
000670  STA $603
000675  LDA $602
000680  CMP #4
000685  BEQ AV
000690  CMP #5
000695  BEQ BA
000700  LDA $610
000705  BEQ EC
000710  LSR
000715  STA $610
000720  BCC AV
000725  JMP BA
000730 EC LDA 53770
000735  LSR
000740  BCC AV
000745 BA LDA #2
000750  STA $600
000755  JMP LFT
000760 AV LDA #3
000765  STA $600
000770  LSR $601
000775  ORA $601
000780  STA $601
000785  JMP RGHT
000790 STRGHT DEC $601
000795  BNE P
000800  JMP AX
000805 P LDY $FF
000810  CPY #65
000815  BCS AF
000820  LDA #1
000825  STA ($F2),Y
000830 AF DEY
000835  BEQ U
000840  LDA #2
000845  LDX #19
000850 Q CPY #65
000855  BCS AG
000860  STA ($F2),Y
000865 AG DEY
000870  BEQ U
000875  DEX
000880  BNE Q
000885  CPY #65
000890  BCS AH
000895  LDA #3
000900  STA ($F2),Y
000905 AH DEY
000910  BEQ U
000911  CPY #65
000912  BCS U
000915  LDA $606
000920  BEQ BN
000925  LDA #4
000930  STA ($F2),Y
000935  RTS
000940 BN LDA #10
000945  STA ($F2),Y
000950  DEY
000955  BEQ U
000960  LDA #9
000965  STA ($F2),Y
000970 U LDA #1
000975  STA $606
000980  RTS
000985 LFT DEC $601
000990  BNE R
000995  JMP RND
001000 R LDA $601
001005  LSR
001010  BCC S
001015  DEC $FF
001020  LDY $FF
001025  CPY $666
001030  BEQ W
001035  CPY #65
001040  BCS AL
001045  LDA #12
001050  STA ($F2),Y
001055 AL DEY
001060  BEQ V
001065  LDA #2
001070  LDX #19
001075 X CPY #65
001080  BCS AM
001085  STA ($F2),Y
001090 AM DEY
001095  BEQ V
001100  DEX
001105  BNE X
001106  CPY #65
001107  BCS V
001110  LDA $601
001115  CMP #1
001120  BEQ AZ
001125  LDA #14
001130  STA ($F2),Y
001135 V DEC $603
001140  RTS
001145 AZ LDA #16
001150  STA ($F2),Y
001155  RTS
001160 W LDA #4
001165  STA $602
001170  JMP RND
001175 S LDY $FF
001180  CPY #65
001185  BCS BB
001190  LDA #11
001195  STA ($F2),Y
001200 BB DEY
001205  BEQ V
001210  LDA #2
001215  LDX #19
001220 T CPY #65
001225  BCS AJ
001230  STA ($F2),Y
001235 AJ DEY
001240  BEQ V
001245  DEX
001250  BNE T
001255  CPY #65
001260  BCS AK
001265  LDA #13
001270  STA ($F2),Y
001275 AK DEY
001280  BEQ V
001281  CPY #65
001282  BCS TL
001285  LDA $603
001290  CMP #255
001295  BNE Y
001300  LDA #4
001305  STA ($F2),Y
001310  DEC $603
001315  LDA #255
001320  STA $602
001325  RTS
001330 Y LDA #15
001335  STA ($F2),Y
001340 TL RTS
001345 RGHT DEC $601
001350  BNE Z
001355  LDA #0
001360  STA $606
001365  JMP RND
001370 Z INC $FF
001375  LDY $FF
001380  CPY $667
001385  BCC AA
001390  LDA #0
001395  STA $606
001400  DEC $FF
001405  LDA #5
001410  STA $602
001415  JMP RND
001420 AA CPY #65
001425  BCS AB
001430  LDA #6
001435  STA ($F2),Y
001440 AB DEY
001445  BEQ AI
001450  CPY #65
001455  BCS AC
001460  LDA #5
001465  STA ($F2),Y
001470 AC DEY
001475  BEQ AI
001480  LDX #18
001485  LDA #2
001490 AD CPY #65
001495  BCS AE
001500  STA ($F2),Y
001505 AE DEY
001510  BEQ AI
001515  DEX
001520  BNE AD
001525  CPY #65
001530  BCS AN
001535  LDA #8
001540  STA ($F2),Y
001545 AN DEY
001550  BEQ AI
001555  CPY #65
001560  BCS AO
001565  LDA #7
001570  STA ($F2),Y
001575 AO DEY
001580  BEQ AI
001581  CPY #65
001582  BCS TL
001585  LDA $603
001590  CMP #255
001595  BNE AP
001600  LDA #4
001605  STA ($F2),Y
001610  DEC $603
001615  LDA #255
001620  STA $602
001625 AI DEC $603
001630  RTS
001635 AP LDA #10
001640  STA ($F2),Y
001645  DEY
001650  BEQ AI
001655  LDA #9
001660  STA ($F2),Y
001665  RTS
001670 DRP1 LDY $F5
001675  INY
001680  INY
001685  LDA #$C
001690  STA P1,Y
001695  INY
001700  LDA #4
001705  STA P1,Y
001710  INY
001715  LDA #$10
001720  STA P1,Y
001725  INY
001730  LDA #0
001735  STA P1,Y
001736  LDA $6FA
001737  CMP #4
001738  BEQ .1
001739  JMP $FB34
001740 .1 RTS
001745 SHDW LDX #0
001750  LDY $F6
001755 C LDA P1IMAGE,X
001760  STA P1,Y
001765  INY
001770  INX
001775  CPX #8
001780  BNE C
001785  RTS
001790 PROP DEC $605
001795  BNE BG
001800  LDA #4
001805  STA $605
001810 BG LDX #3
001815  LDY $F5
001820  LDA $605
001825  CMP #2
001830  BEQ BE
001835  CMP #4
001840  BEQ BF
001845  RTS
001850 BE LDA $D7
001855  CMP #11
001860  BEQ BP
001865  CMP #10
001870  BEQ BP
001875  CMP #7
001880  BEQ BR
001885  CMP #5
001890  BEQ BR
001895 BT LDA P0IMAGE+9,X
001900  STA P0+2,Y
001905  DEY
001910  DEX
001915  BNE BT
001920  RTS
001925 BF LDA $D7
001930  CMP #11
001935  BEQ BQ
001940  CMP #10
001945  BEQ BQ
001950  CMP #7
001955  BEQ BS
001960  CMP #5
001965  BEQ BS
001970 BU LDA P0IMAGE+12,X
001975  STA P0+2,Y
001980  DEY
001985  DEX
001990  BNE BU
001995  RTS
002000 BP LDA #0
002005  STA P0,Y
002010  LDA #8
002015  STA P0+1,Y
002020  LDA #2
002025  STA P0+2,Y
002030  RTS
002035 BQ LDA #4
002040  STA P0,Y
002045  STA P0+1,Y
002050  LDA #0
002055  STA P0+2,Y
002060  RTS
002065 BR LDA #$C0
002070  STA P0,Y
002075  LDA #$48
002080  STA P0+1,Y
002085  LDA #$62
002090  STA P0+2,Y
002095  RTS
002100 BS LDA #$C4
002105  STA P0,Y
002110  LDA #$44
002115  STA P0+1,Y
002120  LDA #$60
002125  STA P0+2,Y
002130  RTS
002235 PAUSE LDA 764
002240  CMP #33
002245  BEQ IF
002250  RTS
002255 IF LDA #7
002260  LDX /XSND
002265  LDY #XSND
002270  JSR $E45C
002275  LDA #192
002280  STA $D40E
002285  STA 764
002286  LDA 18
002287  STA $6F0
002288  LDA 19
002289  STA $6F1
002290 IG JSR PROP
002295  JSR TURN
002300  JSR TIMER
002305  LDA 764
002310  CMP #33
002315  BNE IG
002316  LDA $6F0
002317  STA 18
002318  LDA $6F1
002319  STA 19
002320  LDA #7
002325  LDX /VBIR
002330  LDY #VBIR
002335  JSR $E45C
002340  LDA #192
002345  STA $D40E
002350  STA 764
002355  RTS
003000 CKCOL LDA $C5
003005  BNE L2
003010  RTS
003015 L2 LDA $D005
003020  CMP #1
003025  BEQ IJ
003030  CMP #2
003035  BEQ L3
003040  CMP #8
003045  BEQ IJ
003050  CMP #9
003055  BNE IL
003060 IJ RTS
003065 L3 LDY 709
003070  CPY #42
003075  BNE IJ
003080 IL LDA $604
003085  BNE .1
003090  LDA 53770
003095  AND #7
003100  ADC #15
003105  STA $6D6
003110 .1 LDA $F6
003115  SBC $F5
003120  CMP $6D6
003125  BCS IJ
003130  STA $654
003135  JMP CRASH
